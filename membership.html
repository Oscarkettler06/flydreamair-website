<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Membership - FlyDreamAir</title>
    <link rel="stylesheet" href="css/style.css">
     <script src="functions.js"></script>
</head>
<body>

  <button onclick="createTextFile()">Create Textfile</button>

  <h1 id="greeting">Enter your name:</h1>
  <form id="nameForm">
    <input type="text" id="nameInput" placeholder="Your name" required>
    <button type="submit">Save Name</button>
  </form>

   <p id="status"></p>

  <script>
  function setCookie(name, value, days) {
  const date = new Date();
  date.setTime(date.getTime() + (days*24*60*60*1000));
  const expires = "expires=" + date.toUTCString();
  document.cookie = name + "=" + value + ";" + expires + ";path=/";
}

// Function to get a cookie
function getCookie(name) {
  const cname = name + "=";
  const decodedCookie = decodeURIComponent(document.cookie);
  const cookies = decodedCookie.split(';');
  for (let i = 0; i < cookies.length; i++) {
    let c = cookies[i].trim();
    if (c.indexOf(cname) === 0) {
      return c.substring(cname.length, c.length);
    }
  }
  return "";
}

// Function to check and display the name if the cookie exists
function checkNameCookie() {
  const user = getCookie("username");
  if (user !== "") {
    document.getElementById("greeting").innerText = "Welcome back, " + user + "!";
  }
}

// Function to handle the form submission
function handleFormSubmit(event) {
  event.preventDefault();
  const name = document.getElementById("nameInput").value;
  if (name) {
    setCookie("username", name, 7);
    document.getElementById("greeting").innerText = "Thanks, " + name + "! Your name has been saved.";
  }
}

// Run on page load
window.onload = function () {
  checkNameCookie();
  document.getElementById("nameForm").addEventListener("submit", handleFormSubmit);
};
  </script>


</body>
</html>