<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Search Results – FlyDreamAir
  </title>
  <link href="css/style.css" rel="stylesheet"/>
 </head>
 <body>
  <!-- Navigation Bar -->
  <nav class="navbar">
   <div class="navbar-logo">
    <img alt="FlyDreamAir Logo" src="images/airplane.png"/>
    <span>
     FlyDreamAir
    </span>
   </div>
   <div class="navbar-links">
    <a href="index.html">
     Home
    </a>
    <a href="search.html" class="active">
     Search
    </a>
    <a href="upcomingbooking.html">
     Upcoming
    </a>
    <a href="confirmbooking.html">
     Confirm
    </a>
    <a href="loungecheckin.html">
     Check-In
    </a>
    <a href="membership.html">
     Membership
    </a>
    <a href="profile.html">
     Profile
    </a>
   </div>
  </nav>
  <main>
   <div class="main-container">
    <main class="search-container">
     <h2>
      Available Lounges
     </h2>
     <!-- Dropdown filter -->
     <div class="filter-row">
      <label for="lounge-filter">
       Browse by Lounge:
      </label>
      <select id="lounge-filter" onchange="filterLounges(); persistSelection();">
       <option value="">
        All Lounges
       </option>
       <option value="Sydney Gold Lounge">
        Sydney Gold Lounge
       </option>
       <option value="Melbourne Executive Lounge">
        Melbourne Executive Lounge
       </option>
       <option value="Brisbane Serenity Lounge">
        Brisbane Serenity Lounge
       </option>
      </select>
     </div>
     <label for="state-filter">
      Browse by State:
     </label>
     <select id="state-filter" onchange="filterLounges(); persistSelection();">
      <option value="">
      </option>
      <option value="NSW">
      </option>
      <option value="VIC">
      </option>
      <option value="QLD">
      </option>
     </select>
     <!-- Card: Sydney -->
     <!-- Card: Melbourne -->
     <!-- Card: Brisbane -->
     <div class="lounge-card" data-lounge="Sydney Gold Lounge" data-state="NSW">

     <img alt="Sydney Gold Lounge" class="lounge-image" src="./Images/sydneyLounge.png"/>
      <div class="card-content">
       <h3>
        Sydney Gold Lounge
       </h3>
       <p>
        Amenities: Free Wi-Fi, Bar, 2 Beds, 1 Bath, Breakfast
       </p>
       <p>
        Rating: ★★★★☆
       </p>
       <button class="primary-button" onclick="window.location.href='confirmbooking.html'">
        Add to Itinerary
       </button>
      </div>
     </div>
     <div class="lounge-card" data-lounge="Melbourne Executive Lounge" data-state="VIC">
      <img alt="Melbourne Executive Lounge" class="lounge-image" src="./Images/melbourneLounge.png"/>
      <div class="card-content">
       <h3>
        Melbourne Executive Lounge
       </h3>
       <p>
        Amenities: Workspace, Shower, Quiet Zone, Buffet
       </p>
       <p>
        Rating: ★★★★★
       </p>
       <button class="primary-button" onclick="window.location.href='confirmbooking.html'">
        Add to Itinerary
       </button>
      </div>
     </div>
     <div class="lounge-card" data-lounge="Brisbane Serenity Lounge" data-state="QLD">
      <img alt="Brisbane Serenity Lounge" class="lounge-image" src="./Images/brisbaneLounge.png"/>
      <div class="card-content">
       <h3>
        Brisbane Serenity Lounge
       </h3>
       <p>
        Amenities: Recliners, Beverages, Wi-Fi, Snacks
       </p>
       <p>
        Rating: ★★★☆☆
       </p>
       <button class="primary-button" onclick="window.location.href='confirmbooking.html'">
        Add to Itinerary
       </button>
      </div>
     </div>
    </main>
   </div>
  </main>
  <script>
    const loungeSelect = document.getElementById('lounge-filter');
    const stateSelect  = document.getElementById('state-filter');
    const cards = document.querySelectorAll('.lounge-card');

    function filterLounges() {
      const lounge  = loungeSelect.value;
      const state   = stateSelect.value;
      cards.forEach(card => {
        const matchLounge = !lounge || card.dataset.lounge === lounge;
        const matchState  = !state  || card.dataset.state  === state;
        card.style.display = (matchLounge && matchState) ? '' : 'none';
      });
    }

    function persistSelection() {
      localStorage.setItem('selectedLounge', loungeSelect.value);
      localStorage.setItem('selectedState',  stateSelect.value);
    }

    // on load: restore previous choices & apply filter
    window.addEventListener('DOMContentLoaded', () => {
      const savedL = localStorage.getItem('selectedLounge');
      const savedS = localStorage.getItem('selectedState');
      if (savedL) loungeSelect.value = savedL;
      if (savedS) stateSelect.value  = savedS;
      filterLounges();
    });

    // wire up events
    loungeSelect.addEventListener('change', () => { filterLounges(); persistSelection(); });
    stateSelect .addEventListener('change', () => { filterLounges(); persistSelection(); });
  </script>
  <script src="script.js"></script>
 </body>
</html>
